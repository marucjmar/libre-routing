(()=>{var l,ue={69:l=>{const g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",R=[62,-1,-1,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,63,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],f="undefined"!=typeof BigInt?BigInt:Number;function P(M){let c=M;return c&f(1)&&(c=~c),c>>=f(1),+c.toString()}function te(M){let c="",y=f(M);for(;y>31;){const x=y&f(31)|f(32);c+=g[x],y>>=f(5)}return c+g[y]}function U(M){let c=f(M);const y=c<0;return c<<=f(1),y&&(c=~c),te(c)}l.exports={encode:function A({precision:M=5,thirdDim:c=0,thirdDimPrecision:y=0,polyline:x}){const N=10**M,T=10**y,H=function z(M,c,y){if(M<0||M>15)throw new Error("precision out of range. Should be between 0 and 15");if(y<0||y>15)throw new Error("thirdDimPrecision out of range. Should be between 0 and 15");if(c<0||c>7||4===c||5===c)throw new Error("thirdDim should be between 0, 1, 2, 3, 6 or 7");const x=y<<7|c<<4|M;return te(1)+te(x)}(M,c,y),q=[];let $=f(0),J=f(0),D=f(0);return x.forEach(j=>{const ee=f(Math.round(j[0]*N));q.push(U(ee-$)),$=ee;const Q=f(Math.round(j[1]*N));if(q.push(U(Q-J)),J=Q,c){const ne=f(Math.round(j[2]*T));q.push(U(ne-D)),D=ne}}),[...H,...q].join("")},decode:function m(M){const c=function _(M){let c=f(0),y=f(0);const x=[];if(M.split("").forEach(N=>{const T=f(function p(M){const c=M.charCodeAt(0);return R[c-45]}(N));c|=(T&f(31))<<y,(T&f(32))===f(0)?(x.push(c),c=f(0),y=f(0)):y+=f(5)}),y>0)throw new Error("Invalid encoding");return x}(M),y=function k(M,c){if(1!=+M.toString())throw new Error("Invalid format version");const y=+c.toString();return{precision:15&y,thirdDim:y>>4&7,thirdDimPrecision:y>>7&15}}(c[0],c[1]),x=10**y.precision,N=10**y.thirdDimPrecision,{thirdDim:T}=y;let H=0,q=0,$=0;const J=[];let D=2;for(;D<c.length;)H+=P(c[D])/x,q+=P(c[D+1])/x,T?($+=P(c[D+2])/N,J.push([H,q,$]),D+=3):(J.push([H,q]),D+=2);if(D!==c.length)throw new Error("Invalid encoding. Premature ending reached");return{...y,polyline:J}},ABSENT:0,LEVEL:1,ALTITUDE:2,ELEVATION:3}},483:(l,b,g)=>{"use strict";var R=g(841);function E(n,e,r,t,o,i,s){try{var u=n[i](s),a=u.value}catch(h){return void r(h)}u.done?e(a):Promise.resolve(a).then(t,o)}function S(n){return function(){var e=this,r=arguments;return new Promise(function(t,o){var i=n.apply(e,r);function s(a){E(i,t,o,s,u,"next",a)}function u(a){E(i,t,o,s,u,"throw",a)}s(void 0)})}}var O=g(69),F=g(572);function re(n,e,r){if(null!==n)for(var t,o,i,s,u,a,h,I,C=0,L=0,V=n.type,G="FeatureCollection"===V,W="Feature"===V,ae=G?n.features.length:1,X=0;X<ae;X++){u=(I=!!(h=G?n.features[X].geometry:W?n.geometry:n)&&"GeometryCollection"===h.type)?h.geometries.length:1;for(var se=0;se<u;se++){var B=0,Y=0;if(null!==(s=I?h.geometries[se]:h)){a=s.coordinates;var K=s.type;switch(C=!r||"Polygon"!==K&&"MultiPolygon"!==K?0:1,K){case null:break;case"Point":if(!1===e(a,L,X,B,Y))return!1;L++,B++;break;case"LineString":case"MultiPoint":for(t=0;t<a.length;t++){if(!1===e(a[t],L,X,B,Y))return!1;L++,"MultiPoint"===K&&B++}"LineString"===K&&B++;break;case"Polygon":case"MultiLineString":for(t=0;t<a.length;t++){for(o=0;o<a[t].length-C;o++){if(!1===e(a[t][o],L,X,B,Y))return!1;L++}"MultiLineString"===K&&B++,"Polygon"===K&&Y++}"Polygon"===K&&B++;break;case"MultiPolygon":for(t=0;t<a.length;t++){for(Y=0,o=0;o<a[t].length;o++){for(i=0;i<a[t][o].length-C;i++){if(!1===e(a[t][o][i],L,X,B,Y))return!1;L++}Y++}B++}break;case"GeometryCollection":for(t=0;t<s.geometries.length;t++)if(!1===re(s.geometries[t],e,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function oe(n){var e=[1/0,1/0,-1/0,-1/0];return re(n,function(r){e[0]>r[0]&&(e[0]=r[0]),e[1]>r[1]&&(e[1]=r[1]),e[2]<r[0]&&(e[2]=r[0]),e[3]<r[1]&&(e[3]=r[1])}),e}oe.default=oe;const ge=oe;class me{latestResponseId=0;lastResponseId=0;buffer=[];maxBuffer=4;pending=!1;get hasPendingRequests(){return this.pending}request(e,r){var t=this;return S(function*(){const o=new AbortController,i=Date.now();t.lastResponseId=i,t.pending=!0,t.buffer.length>t.maxBuffer&&(t.buffer[0].abort(),t.buffer.splice(0,1)),t.buffer.push(o);const s=yield fetch(e,{...r,signal:o.signal});if(t.cleanBuffer(o),200!==s.status)throw s;if(t.latestResponseId>i)throw new Error("Prev response");return t.pending=t.lastResponseId!==i,t.latestResponseId=i,yield s.json()})()}cleanBuffer(e){this.buffer=this.buffer.filter(r=>r!==e)}}class ye{response;code=401;message="Unauthorized";constructor(e){this.response=e}}const be=(n,e)=>({totalTime:n.sections.map(i=>new Date(i.arrival.time).valueOf()-new Date(i.departure.time).valueOf()).reduce((i,s)=>i+s,0),distance:n.sections.map(i=>i.summary.length).reduce((i,s)=>i+s,0),cost:n.sections.reduce((i,s)=>((s.tolls||[]).forEach(u=>(u.fares||[]).forEach(a=>i+=a.price.value)),i),0),arriveTime:new Date(n.sections[n.sections.length-1].arrival.time),departureTime:new Date(n.sections[0].departure.time),id:e}),Pe=(n,e,r)=>n.sections.map((t,o)=>{const s=(0,O.decode)(t.polyline).polyline.map(([h,C])=>({x:h,y:C}));return function z(n,e,r){if(void 0===r&&(r={}),n.length<2)throw new Error("coordinates must be an array of two or more positions");return function m(n,e,r){void 0===r&&(r={});var t={type:"Feature"};return(0===r.id||r.id)&&(t.id=r.id),r.bbox&&(t.bbox=r.bbox),t.properties=e||{},t.geometry=n,t}({type:"LineString",coordinates:n},e,r)}(F(s,1e-4,!0).map(h=>[+h.y.toFixed(6),+h.x.toFixed(6)]),{waypoint:o,routeIndex:e,selected:r===e})}),Ee=new class pe{requester=new me;request(e){var r=this;return S(function*(){try{const t=yield r.requester.request(e.url),o=t.routes.map(be),i=function we(n,e){return"fastest"===e?n.reduce(function(t,o){return t?.arriveTime.valueOf()<o?.arriveTime.valueOf()?t:o})?.id:"shortest"===e?n.reduce(function(t,o){return t?.distance<o?.distance?t:o})?.id:"cheapest"===e?n.filter(t=>null!=t.cost).reduce(function(t,o){return t?.cost<o?.cost?t:o})?.id:null}(o,e.selectRouteStrategy),u=function U(n,e){void 0===e&&(e={});var r={type:"FeatureCollection"};return e.id&&(r.id=e.id),e.bbox&&(r.bbox=e.bbox),r.features=n,r}(t.routes.map((a,h)=>Pe(a,h,i)).reduce((a,h)=>[...a,...h],[]));return{bounds:ge(u),rawData:t,summary:{routes:o,selectedRouteId:i},geojson:{type:"geojson",data:u}}}catch(t){if(t instanceof Response){const o=t,i=yield o.json();if(401===o.status)throw new ye(i)}throw t}})()}hasPendingRequests(){return this.requester.hasPendingRequests}};(0,R.Jj)(Ee)},572:(l,b,g)=>{var R;!function(){"use strict";function E(d,f){var m=d.x-f.x,p=d.y-f.y;return m*m+p*p}function S(d,f,m){var p=f.x,_=f.y,k=m.x-p,P=m.y-_;if(0!==k||0!==P){var A=((d.x-p)*k+(d.y-_)*P)/(k*k+P*P);A>1?(p=m.x,_=m.y):A>0&&(p+=k*A,_+=P*A)}return(k=d.x-p)*k+(P=d.y-_)*P}function F(d,f,m,p,_){for(var P,k=p,A=f+1;A<m;A++){var z=S(d[A],d[f],d[m]);z>k&&(P=A,k=z)}k>p&&(P-f>1&&F(d,f,P,p,_),_.push(d[P]),m-P>1&&F(d,P,m,p,_))}function w(d,f){var m=d.length-1,p=[d[0]];return F(d,0,m,f,p),p.push(d[m]),p}function Z(d,f,m){if(d.length<=2)return d;var p=void 0!==f?f*f:1;return d=m?d:function O(d,f){for(var _,m=d[0],p=[m],k=1,P=d.length;k<P;k++)E(_=d[k],m)>f&&(p.push(_),m=_);return m!==_&&p.push(_),p}(d,p),w(d,p)}void 0!==(R=function(){return Z}.call(b,g,b,l))&&(l.exports=R)}()}},fe={};function v(l){var b=fe[l];if(void 0!==b)return b.exports;var g=fe[l]={exports:{}};return ue[l](g,g.exports,v),g.exports}v.m=ue,v.x=()=>{var l=v.O(void 0,[592],()=>v(483));return v.O(l)},l=[],v.O=(b,g,R,E)=>{if(!g){var O=1/0;for(S=0;S<l.length;S++){for(var[g,R,E]=l[S],F=!0,w=0;w<g.length;w++)(!1&E||O>=E)&&Object.keys(v.O).every(_=>v.O[_](g[w]))?g.splice(w--,1):(F=!1,E<O&&(O=E));if(F){l.splice(S--,1);var Z=R();void 0!==Z&&(b=Z)}}return b}E=E||0;for(var S=l.length;S>0&&l[S-1][2]>E;S--)l[S]=l[S-1];l[S]=[g,R,E]},v.d=(l,b)=>{for(var g in b)v.o(b,g)&&!v.o(l,g)&&Object.defineProperty(l,g,{enumerable:!0,get:b[g]})},v.f={},v.e=l=>Promise.all(Object.keys(v.f).reduce((b,g)=>(v.f[g](l,b),b),[])),v.u=l=>"common.4471ab4b5cbd777d.js",v.miniCssF=l=>{},v.o=(l,b)=>Object.prototype.hasOwnProperty.call(l,b),(()=>{var l;v.tu=b=>(void 0===l&&(l={createScriptURL:g=>g},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(l=trustedTypes.createPolicy("angular#bundler",l))),l.createScriptURL(b))})(),v.p="",(()=>{var l={483:1};v.f.i=(E,S)=>{l[E]||importScripts(v.tu(v.p+v.u(E)))};var g=self.webpackChunklibre_routing_playground=self.webpackChunklibre_routing_playground||[],R=g.push.bind(g);g.push=E=>{var[S,O,F]=E;for(var w in O)v.o(O,w)&&(v.m[w]=O[w]);for(F&&F(v);S.length;)l[S.pop()]=1;R(E)}})(),(()=>{var l=v.x;v.x=()=>v.e(592).then(l)})(),v.x()})();