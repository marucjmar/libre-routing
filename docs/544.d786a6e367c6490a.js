(()=>{var l,se={69:l=>{const v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",x=[62,-1,-1,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,63,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],f="undefined"!=typeof BigInt?BigInt:Number;function E(_){let c=_;return c&f(1)&&(c=~c),c>>=f(1),+c.toString()}function te(_){let c="",m=f(_);for(;m>31;){const C=m&f(31)|f(32);c+=v[C],m>>=f(5)}return c+v[m]}function H(_){let c=f(_);const m=c<0;return c<<=f(1),m&&(c=~c),te(c)}l.exports={encode:function A({precision:_=5,thirdDim:c=0,thirdDimPrecision:m=0,polyline:C}){const B=10**_,D=10**m,I=function U(_,c,m){if(_<0||_>15)throw new Error("precision out of range. Should be between 0 and 15");if(m<0||m>15)throw new Error("thirdDimPrecision out of range. Should be between 0 and 15");if(c<0||c>7||4===c||5===c)throw new Error("thirdDim should be between 0, 1, 2, 3, 6 or 7");const C=m<<7|c<<4|_;return te(1)+te(C)}(_,c,m),q=[];let $=f(0),J=f(0),T=f(0);return C.forEach(j=>{const ee=f(Math.round(j[0]*B));q.push(H(ee-$)),$=ee;const Q=f(Math.round(j[1]*B));if(q.push(H(Q-J)),J=Q,c){const ne=f(Math.round(j[2]*D));q.push(H(ne-T)),T=ne}}),[...I,...q].join("")},decode:function g(_){const c=function M(_){let c=f(0),m=f(0);const C=[];if(_.split("").forEach(B=>{const D=f(function w(_){const c=_.charCodeAt(0);return x[c-45]}(B));c|=(D&f(31))<<m,(D&f(32))===f(0)?(C.push(c),c=f(0),m=f(0)):m+=f(5)}),m>0)throw new Error("Invalid encoding");return C}(_),m=function k(_,c){if(1!=+_.toString())throw new Error("Invalid format version");const m=+c.toString();return{precision:15&m,thirdDim:m>>4&7,thirdDimPrecision:m>>7&15}}(c[0],c[1]),C=10**m.precision,B=10**m.thirdDimPrecision,{thirdDim:D}=m;let I=0,q=0,$=0;const J=[];let T=2;for(;T<c.length;)I+=E(c[T])/C,q+=E(c[T+1])/C,D?($+=E(c[T+2])/B,J.push([I,q,$]),T+=3):(J.push([I,q]),T+=2);if(T!==c.length)throw new Error("Invalid encoding. Premature ending reached");return{...m,polyline:J}},ABSENT:0,LEVEL:1,ALTITUDE:2,ELEVATION:3}},544:(l,b,v)=>{"use strict";var x=v(841);function P(t,e,r,n,o,i,u){try{var s=t[i](u),a=s.value}catch(p){return void r(p)}s.done?e(a):Promise.resolve(a).then(n,o)}function S(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function u(a){P(i,n,o,u,s,"next",a)}function s(a){P(i,n,o,u,s,"throw",a)}u(void 0)})}}var O=v(69),R=v(572);function re(t,e,r){if(null!==t)for(var n,o,i,u,s,a,p,V,F=0,L=0,Z=t.type,G="FeatureCollection"===Z,W="Feature"===Z,ae=G?t.features.length:1,X=0;X<ae;X++){s=(V=!!(p=G?t.features[X].geometry:W?t.geometry:t)&&"GeometryCollection"===p.type)?p.geometries.length:1;for(var ue=0;ue<s;ue++){var N=0,Y=0;if(null!==(u=V?p.geometries[ue]:p)){a=u.coordinates;var K=u.type;switch(F=!r||"Polygon"!==K&&"MultiPolygon"!==K?0:1,K){case null:break;case"Point":if(!1===e(a,L,X,N,Y))return!1;L++,N++;break;case"LineString":case"MultiPoint":for(n=0;n<a.length;n++){if(!1===e(a[n],L,X,N,Y))return!1;L++,"MultiPoint"===K&&N++}"LineString"===K&&N++;break;case"Polygon":case"MultiLineString":for(n=0;n<a.length;n++){for(o=0;o<a[n].length-F;o++){if(!1===e(a[n][o],L,X,N,Y))return!1;L++}"MultiLineString"===K&&N++,"Polygon"===K&&Y++}"Polygon"===K&&N++;break;case"MultiPolygon":for(n=0;n<a.length;n++){for(Y=0,o=0;o<a[n].length;o++){for(i=0;i<a[n][o].length-F;i++){if(!1===e(a[n][o][i],L,X,N,Y))return!1;L++}Y++}N++}break;case"GeometryCollection":for(n=0;n<u.geometries.length;n++)if(!1===re(u.geometries[n],e,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function oe(t){var e=[1/0,1/0,-1/0,-1/0];return re(t,function(r){e[0]>r[0]&&(e[0]=r[0]),e[1]>r[1]&&(e[1]=r[1]),e[2]<r[0]&&(e[2]=r[0]),e[3]<r[1]&&(e[3]=r[1])}),e}oe.default=oe;const ge=oe;class ye{response;code=401;message="Unauthorized";constructor(e){this.response=e}}const we=new class me{latestResponseExecutionTime=0;buffer=[];maxBuffer=4;request(e,r){var n=this;return S(function*(){const o=new AbortController,i=Date.now();n.buffer.length>n.maxBuffer&&(n.buffer[0].abort(),n.buffer.splice(0,1)),n.buffer.push(o);const u=yield fetch(e,{...r,signal:o.signal});if(200!==u.status)throw u;if(n.buffer=n.buffer.filter(s=>s!==o),n.latestResponseExecutionTime>i)throw new Error("Prev response");return n.latestResponseExecutionTime=i,yield u.json()})()}},pe={request:t=>S(function*(){try{const e=yield we.request(t.url),n=function H(t,e){void 0===e&&(e={});var r={type:"FeatureCollection"};return e.id&&(r.id=e.id),e.bbox&&(r.bbox=e.bbox),r.features=t,r}(e.routes.map((o,i)=>Ee(o,i)).reduce((o,i)=>[...o,...i],[]));return{bounds:ge(n),rawData:e,summary:{routes:e.routes.map(be)},geojson:{type:"geojson",data:n}}}catch(e){if(e instanceof Response){const r=e,n=yield r.json();if(401===r.status)throw new ye(n)}throw e}})()},be=(t,e)=>({totalTime:t.sections.map(o=>new Date(o.arrival.time).valueOf()-new Date(o.departure.time).valueOf()).reduce((o,i)=>o+i,0),distance:t.sections.map(o=>o.summary.length).reduce((o,i)=>o+i,0),arriveTime:new Date(t.sections[t.sections.length-1].arrival.time),departureTime:new Date(t.sections[0].departure.time),id:e}),Ee=(t,e)=>t.sections.map((r,n)=>{const i=(0,O.decode)(r.polyline).polyline.map(([a,p])=>({x:a,y:p}));return function U(t,e,r){if(void 0===r&&(r={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return function g(t,e,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=e||{},n.geometry=t,n}({type:"LineString",coordinates:t},e,r)}(R(i,1e-4,!0).map(a=>[+a.y.toFixed(6),+a.x.toFixed(6)]),{waypoint:n,routeIndex:e,selected:0===e})});(0,x.Jj)(pe)},572:(l,b,v)=>{var x;!function(){"use strict";function P(d,f){var g=d.x-f.x,w=d.y-f.y;return g*g+w*w}function S(d,f,g){var w=f.x,M=f.y,k=g.x-w,E=g.y-M;if(0!==k||0!==E){var A=((d.x-w)*k+(d.y-M)*E)/(k*k+E*E);A>1?(w=g.x,M=g.y):A>0&&(w+=k*A,M+=E*A)}return(k=d.x-w)*k+(E=d.y-M)*E}function R(d,f,g,w,M){for(var E,k=w,A=f+1;A<g;A++){var U=S(d[A],d[f],d[g]);U>k&&(E=A,k=U)}k>w&&(E-f>1&&R(d,f,E,w,M),M.push(d[E]),g-E>1&&R(d,E,g,w,M))}function y(d,f){var g=d.length-1,w=[d[0]];return R(d,0,g,f,w),w.push(d[g]),w}function z(d,f,g){if(d.length<=2)return d;var w=void 0!==f?f*f:1;return d=g?d:function O(d,f){for(var M,g=d[0],w=[g],k=1,E=d.length;k<E;k++)P(M=d[k],g)>f&&(w.push(M),g=M);return g!==M&&w.push(M),w}(d,w),y(d,w)}void 0!==(x=function(){return z}.call(b,v,b,l))&&(l.exports=x)}()}},fe={};function h(l){var b=fe[l];if(void 0!==b)return b.exports;var v=fe[l]={exports:{}};return se[l](v,v.exports,h),v.exports}h.m=se,h.x=()=>{var l=h.O(void 0,[592],()=>h(544));return h.O(l)},l=[],h.O=(b,v,x,P)=>{if(!v){var O=1/0;for(S=0;S<l.length;S++){for(var[v,x,P]=l[S],R=!0,y=0;y<v.length;y++)(!1&P||O>=P)&&Object.keys(h.O).every(M=>h.O[M](v[y]))?v.splice(y--,1):(R=!1,P<O&&(O=P));if(R){l.splice(S--,1);var z=x();void 0!==z&&(b=z)}}return b}P=P||0;for(var S=l.length;S>0&&l[S-1][2]>P;S--)l[S]=l[S-1];l[S]=[v,x,P]},h.d=(l,b)=>{for(var v in b)h.o(b,v)&&!h.o(l,v)&&Object.defineProperty(l,v,{enumerable:!0,get:b[v]})},h.f={},h.e=l=>Promise.all(Object.keys(h.f).reduce((b,v)=>(h.f[v](l,b),b),[])),h.u=l=>"common.4471ab4b5cbd777d.js",h.miniCssF=l=>{},h.o=(l,b)=>Object.prototype.hasOwnProperty.call(l,b),(()=>{var l;h.tu=b=>(void 0===l&&(l={createScriptURL:v=>v},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(l=trustedTypes.createPolicy("angular#bundler",l))),l.createScriptURL(b))})(),h.p="",(()=>{var l={544:1};h.f.i=(P,S)=>{l[P]||importScripts(h.tu(h.p+h.u(P)))};var v=self.webpackChunklibre_routing_playground=self.webpackChunklibre_routing_playground||[],x=v.push.bind(v);v.push=P=>{var[S,O,R]=P;for(var y in O)h.o(O,y)&&(h.m[y]=O[y]);for(R&&R(h);S.length;)l[S.pop()]=1;x(P)}})(),(()=>{var l=h.x;h.x=()=>h.e(592).then(l)})(),h.x()})();