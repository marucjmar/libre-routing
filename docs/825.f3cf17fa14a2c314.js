(()=>{"use strict";var s,U={825:(s,m,g)=>{var v=6371008.8,d={centimeters:100*v,centimetres:100*v,degrees:v/111325,feet:3.28084*v,inches:39.37*v,kilometers:v/1e3,kilometres:v/1e3,meters:v,metres:v,miles:v/1609.344,millimeters:1e3*v,millimetres:1e3*v,nauticalmiles:v/1852,radians:1,yards:1.0936*v};function p(e,t,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function C(e,t,r){if(void 0===r&&(r={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!$(e[0])||!$(e[1]))throw new Error("coordinates must contain numbers");return p({type:"Point",coordinates:e},t,r)}function _(e,t,r){if(void 0===r&&(r={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return p({type:"LineString",coordinates:e},t,r)}function N(e){return e%(2*Math.PI)*180/Math.PI}function M(e){return e%360*Math.PI/180}function $(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function R(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function te(e){return"Feature"===e.type?e.geometry:e}function he(e,t){var r,n,i,a,o,l,u;for(n=1;n<=8;n*=2){for(r=[],a=!(q(i=e[e.length-1],t)&n),o=0;o<e.length;o++)(u=!(q(l=e[o],t)&n))!==a&&r.push(K(i,l,n,t)),u&&r.push(l),i=l,a=u;if(!(e=r).length)break}return r}function K(e,t,r,n){return 8&r?[e[0]+(t[0]-e[0])*(n[3]-e[1])/(t[1]-e[1]),n[3]]:4&r?[e[0]+(t[0]-e[0])*(n[1]-e[1])/(t[1]-e[1]),n[1]]:2&r?[n[2],e[1]+(t[1]-e[1])*(n[2]-e[0])/(t[0]-e[0])]:1&r?[n[0],e[1]+(t[1]-e[1])*(n[0]-e[0])/(t[0]-e[0])]:null}function q(e,t){var r=0;return e[0]<t[0]?r|=1:e[0]>t[2]&&(r|=2),e[1]<t[1]?r|=4:e[1]>t[3]&&(r|=8),r}function ge(e,t){var r=te(e),n=r.type,i="Feature"===e.type?e.properties:{},a=r.coordinates;switch(n){case"LineString":case"MultiLineString":var o=[];return"LineString"===n&&(a=[a]),a.forEach(function(l){!function ce(e,t,r){var o,l,u,f,h,n=e.length,i=q(e[0],t),a=[];for(r||(r=[]),o=1;o<n;o++){for(f=e[o-1],l=u=q(h=e[o],t);;){if(!(i|l)){a.push(f),l!==u?(a.push(h),o<n-1&&(r.push(a),a=[])):o===n-1&&a.push(h);break}if(i&l)break;i?i=q(f=K(f,h,i,t),t):l=q(h=K(f,h,l,t),t)}i=u}a.length&&r.push(a)}(l,t,o)}),1===o.length?_(o[0],i):function j(e,t,r){return void 0===r&&(r={}),p({type:"MultiLineString",coordinates:e},t,r)}(o,i);case"Polygon":return function D(e,t,r){void 0===r&&(r={});for(var n=0,i=e;n<i.length;n++){var a=i[n];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var o=0;o<a[a.length-1].length;o++)if(a[a.length-1][o]!==a[0][o])throw new Error("First and last Position are not equivalent.")}return p({type:"Polygon",coordinates:e},t,r)}(ne(a,t),i);case"MultiPolygon":return function ee(e,t,r){return void 0===r&&(r={}),p({type:"MultiPolygon",coordinates:e},t,r)}(a.map(function(l){return ne(l,t)}),i);default:throw new Error("geometry "+n+" not supported")}}function ne(e,t){for(var r=[],n=0,i=e;n<i.length;n++){var o=he(i[n],t);o.length>0&&((o[0][0]!==o[o.length-1][0]||o[0][1]!==o[o.length-1][1])&&o.push(o[0]),o.length>=4&&r.push(o))}return r}var ve=g(841);function B(e,t,r){if(null!==e)for(var n,i,a,o,l,u,f,P,h=0,y=0,L=e.type,E="FeatureCollection"===L,A="Feature"===L,Y=E?e.features.length:1,O=0;O<Y;O++){l=(P=!!(f=E?e.features[O].geometry:A?e.geometry:e)&&"GeometryCollection"===f.type)?f.geometries.length:1;for(var Z=0;Z<l;Z++){var k=0,G=0;if(null!==(o=P?f.geometries[Z]:f)){u=o.coordinates;var F=o.type;switch(h=!r||"Polygon"!==F&&"MultiPolygon"!==F?0:1,F){case null:break;case"Point":if(!1===t(u,y,O,k,G))return!1;y++,k++;break;case"LineString":case"MultiPoint":for(n=0;n<u.length;n++){if(!1===t(u[n],y,O,k,G))return!1;y++,"MultiPoint"===F&&k++}"LineString"===F&&k++;break;case"Polygon":case"MultiLineString":for(n=0;n<u.length;n++){for(i=0;i<u[n].length-h;i++){if(!1===t(u[n][i],y,O,k,G))return!1;y++}"MultiLineString"===F&&k++,"Polygon"===F&&G++}"Polygon"===F&&k++;break;case"MultiPolygon":for(n=0;n<u.length;n++){for(G=0,i=0;i<u[n].length;i++){for(a=0;a<u[n][i].length-h;a++){if(!1===t(u[n][i][a],y,O,k,G))return!1;y++}G++}k++}break;case"GeometryCollection":for(n=0;n<o.geometries.length;n++)if(!1===B(o.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function ie(e){var t=[];return B(e,function(r){t.push(r)}),t}function H(e,t){!function ae(e,t){var r,n,i,a,o,l,u,f,h,y,P=0,L="FeatureCollection"===e.type,E="Feature"===e.type,A=L?e.features.length:1;for(r=0;r<A;r++){for(f=L?e.features[r].properties:E?e.properties:{},h=L?e.features[r].bbox:E?e.bbox:void 0,y=L?e.features[r].id:E?e.id:void 0,o=(u=!!(l=L?e.features[r].geometry:E?e.geometry:e)&&"GeometryCollection"===l.type)?l.geometries.length:1,i=0;i<o;i++)if(null!==(a=u?l.geometries[i]:l))switch(a.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(a,P,f,h,y))return!1;break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(!1===t(a.geometries[n],P,f,h,y))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,P,f,h,y))return!1;P++}}(e,function(r,n,i,a,o){var u,l=null===r?null:r.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return!1!==t(p(r,i,{bbox:a,id:o}),n,0)&&void 0}switch(l){case"MultiPoint":u="Point";break;case"MultiLineString":u="LineString";break;case"MultiPolygon":u="Polygon"}for(var f=0;f<r.coordinates.length;f++)if(!1===t(p({type:u,coordinates:r.coordinates[f]},i),n,f))return!1})}function T(e,t,r){if(void 0===r&&(r={}),!0===r.final)return function Me(e,t){return(T(t,e)+180)%360}(e,t);var n=R(e),i=R(t),a=M(n[0]),o=M(i[0]),l=M(n[1]),u=M(i[1]),f=Math.sin(o-a)*Math.cos(u),h=Math.cos(l)*Math.sin(u)-Math.sin(l)*Math.cos(u)*Math.cos(o-a);return N(Math.atan2(f,h))}function Pe(e,t,r,n){void 0===n&&(n={});var i=R(e),a=M(i[0]),o=M(i[1]),l=M(r),u=function J(e,t){void 0===t&&(t="kilometers");var r=d[t];if(!r)throw new Error(t+" units is invalid");return e/r}(t,n.units),f=Math.asin(Math.sin(o)*Math.cos(u)+Math.cos(o)*Math.sin(u)*Math.cos(l));return C([N(a+Math.atan2(Math.sin(l)*Math.sin(u)*Math.cos(o),Math.cos(u)-Math.sin(o)*Math.sin(f))),N(f)],n.properties)}const oe=function be(e,t,r){void 0===r&&(r={});var n=R(e),i=R(t),a=M(i[1]-n[1]),o=M(i[0]-n[0]),l=M(n[1]),u=M(i[1]),f=Math.pow(Math.sin(a/2),2)+Math.pow(Math.sin(o/2),2)*Math.cos(l)*Math.cos(u);return function re(e,t){void 0===t&&(t="kilometers");var r=d[t];if(!r)throw new Error(t+" units is invalid");return e*r}(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),r.units)};function Q(e,t,r){void 0===r&&(r={});for(var i=te(e).coordinates,a=0,o=0;o<i.length&&!(t>=a&&o===i.length-1);o++){if(a>=t){var l=t-a;if(l){var u=T(i[o],i[o-1])-180;return Pe(i[o],l,u,r)}return C(i[o])}a+=oe(i[o],i[o+1],r)}return C(i[i.length-1])}function V(e,t){return void 0===t&&(t={}),function we(e,t,r){var n=r,i=!1;return function de(e,t){H(e,function(r,n,i){var a=0;if(r.geometry){var o=r.geometry.type;if("Point"!==o&&"MultiPoint"!==o){var l,u=0,f=0,h=0;if(!1===B(r,function(y,P,L,E,A){if(void 0===l||n>u||E>f||A>h)return l=y,u=n,f=E,h=A,void(a=0);var Y=_([l,y],r.properties);if(!1===t(Y,n,i,A,a))return!1;a++,l=y}))return!1}}})}(e,function(a,o,l,u,f){n=!1===i&&void 0===r?a:t(n,a,o,l,u,f),i=!0}),n}(e,function(r,n){var i=n.geometry.coordinates;return r+oe(i[0],i[1],t)},0)}const ue=(e,t)=>Math.abs(e-t)<1e-5,W=e=>`${e[0].toFixed(6)},${e[1].toFixed(6)}`,le=(e=[])=>e[e.length-1];function _e(e){return _(ie(e).reduce((r,n)=>{const i=le(r);return(!i||!((e=[],t=[])=>ue(e[0],t[0])&&ue(e[1],t[1]))(i,n))&&r.push(n),r},[]),e.properties)}function Oe(e,t){return"vertical"==(Math.abs(e.localLineBearing)<45||Math.abs(e.localLineBearing)>135?"vertical":"horizontal")?t>0?"left":"right":Math.abs(t)<90?"bottom":"top"}function Re(e){return function Fe(e){return e.map((t,r)=>{const n=e.slice();n.splice(r,1);const i=function Ae(e,t){return t.map(r=>T(r.lngLat,e.lngLat)).reduce((r,n,i,{length:a})=>r+n/a,0)||0}(t,n);return{lngLat:t.lngLat,anchor:Oe(t,i)}})}(e.map(t=>{let r=t;"MultiLineString"===t.geometry.type&&(r=_(t.geometry.coordinates[0]),t.geometry.coordinates.forEach((o,l)=>{if(0===l)return;const u=_(o);V(u)>V(r)&&(r=u)}));const n=V(r);return{lngLat:R(Q(r,.5*n)),localLineBearing:T(Q(r,.4*n),Q(r,.6*n))}}))}let X=[];(0,ve.Jj)({createChunks(e){X=function Ge(e=[]){const n=function qe(e){return e.reduce((t,r)=>(t[r.properties.routeIndex]?t[r.properties.routeIndex].geometry.coordinates=[...t[r.properties.routeIndex].geometry.coordinates,...r.geometry.coordinates]:t[r.properties.routeIndex]=r,t),[])}(Array.isArray(e)?e:e.features).map(_e);return function Ce(e){if(e.length<2)return e;const t=e.map(ie),r=new Map;return[].concat(...t).forEach(n=>{r.set(W(n),(r.get(W(n))||0)+1)}),t.map(n=>function Le(e,t){const r=[[]];e.forEach(i=>{t.get(W(i))>1?r.push([]):le(r).push(i)});const n=r.filter(i=>i.length>0).reduce((i,a)=>a.length>i.length?a:i,[]);return _(0===n.length?e:n)}(n,r))}(n)}(e.geojson.data.features)},recalculatePos({bbox:{ne:e,sw:t}}){const i=Re(X.map(o=>ge(o,[t.lng,t.lat,e.lng,e.lat])).filter(({geometry:{coordinates:o}})=>o.length>0));return{points:i,allInBbox:i.length===X.length}}})}},x={};function c(s){var m=x[s];if(void 0!==m)return m.exports;var g=x[s]={exports:{}};return U[s](g,g.exports,c),g.exports}c.m=U,c.x=()=>{var s=c.O(void 0,[592],()=>c(825));return c.O(s)},s=[],c.O=(m,g,v,d)=>{if(!g){var b=1/0;for(w=0;w<s.length;w++){for(var[g,v,d]=s[w],p=!0,S=0;S<g.length;S++)(!1&d||b>=d)&&Object.keys(c.O).every(I=>c.O[I](g[S]))?g.splice(S--,1):(p=!1,d<b&&(b=d));if(p){s.splice(w--,1);var C=v();void 0!==C&&(m=C)}}return m}d=d||0;for(var w=s.length;w>0&&s[w-1][2]>d;w--)s[w]=s[w-1];s[w]=[g,v,d]},c.d=(s,m)=>{for(var g in m)c.o(m,g)&&!c.o(s,g)&&Object.defineProperty(s,g,{enumerable:!0,get:m[g]})},c.f={},c.e=s=>Promise.all(Object.keys(c.f).reduce((m,g)=>(c.f[g](s,m),m),[])),c.u=s=>"common.4471ab4b5cbd777d.js",c.miniCssF=s=>{},c.o=(s,m)=>Object.prototype.hasOwnProperty.call(s,m),(()=>{var s;c.tu=m=>(void 0===s&&(s={createScriptURL:g=>g},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(s=trustedTypes.createPolicy("angular#bundler",s))),s.createScriptURL(m))})(),c.p="",(()=>{var s={825:1};c.f.i=(d,w)=>{s[d]||importScripts(c.tu(c.p+c.u(d)))};var g=self.webpackChunklibre_routing_playground=self.webpackChunklibre_routing_playground||[],v=g.push.bind(g);g.push=d=>{var[w,b,p]=d;for(var S in b)c.o(b,S)&&(c.m[S]=b[S]);for(p&&p(c);w.length;)s[w.pop()]=1;v(d)}})(),(()=>{var s=c.x;c.x=()=>c.e(592).then(s)})(),c.x()})();